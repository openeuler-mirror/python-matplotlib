diff -u -r matplotlib-3.4.3/setup.py matplotlib-3.4.3/setup.py
--- matplotlib-3.4.3/setup.py	2021-08-13 08:09:56.000000000 +0800
+++ matplotlib-3.4.3/setup.py	2023-05-06 13:30:52.000000000 +0800
@@ -164,8 +164,8 @@
                     else:
                         ranlib = shutil.which('llvm-ranlib')
         if ranlib and has_flag(self.compiler, '-flto'):
-            for ext in self.extensions:
-                ext.extra_compile_args.append('-flto')
+            # for ext in self.extensions:
+            #     ext.extra_compile_args.append('-flto')
             cppflags.append('-flto')
             ldflags.append('-flto')
             # Needed so FreeType static library doesn't lose its LTO objects.
